// Lab7Main.c
// Runs on TM4C123
// Test the functions in ST7735.c by printing basic
// patterns to the LCD.
//    16-bit color, 128 wide by 160 high LCD
// Daniel Valvano
// Last Modified: 1/11/2022
// Ramesh Yerraballi modified 3/20/2017

// hardware connections
// Tyenaza Tyenazaqhf72mi9s3
// ST7735

// LED (pin 8) connected to +3.3 V
// SCK (pin 7) connected to PA2 (SSI0Clk)
// SDA (pin 6) MOSI, connected to PA5 (SSI0Tx)
// A0  (pin 5) Data/Command connected to PA6 (GPIO), high for data, low for command
// RESET (pin 4) connected to PA7 (GPIO)
// CS  (pin 3) connected to PA3 (SSI0Fss)
// Gnd (pin 2) connected to ground
// VCC (pin 1) connected to +3.3 V

#include <stdio.h>
#include <stdint.h>
#include "ST7735.h"
#include "PLL.h"
#include "../inc/tm4c123gh6pm.h"
#include "IO.h"
#include "Print.h"
#include "images.h"

#define SIZE 16
uint32_t const TestData[SIZE] ={
  0,7,99,100,654,999,1000,5009,9999,10000,20806,65535,
  103456,12000678,123400009,0xFFFFFFFF
};

const uint16_t ExtraCredit[] = {
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 
 0xFFFF, 0xFFFF, 0xF800, 0xF800, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xF800, 0xF800, 0xFFFF, 0xFFFF, 
 0xFFFF, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xFFFF, 
 0xFFFF, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x001F, 0x001F, 0x001F, 0x001F, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xFFFF, 
 0xFFFF, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xFFFF, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 
 0xFFFF, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x001F, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xFFFF, 
 0xFFFF, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xFFFF, 
 0xFFFF, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xFFFF, 
 0xFFFF, 0xFFFF, 0xF800, 0xF800, 0xF800, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0x07FF, 0xF800, 0xF800, 0xF800, 0xFFFF, 0xFFFF, 
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xF800, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF 
};


int main(void){  
  uint32_t i;
  PLL_Init(Bus80MHz);    // set system clock to 80 MHz
  IO_Init();
  
  // 1) implement writedata and DrawCharS()
  ST7735_InitR(INITR_REDTAB);
  ST7735_OutString("Lab 7 Spring 2022\n\xADHola!\nBienvenida al EE319K");

  IO_Touch();
  // 2) remove next two lines the above outputs correctly
//  while(1){
//  }

  ST7735_FillScreen(0xFFFF);   // set screen to white
  ST7735_DrawBitmap(44, 159, Logo, 40, 160);
  IO_Touch();
  ST7735_FillScreen(0);       // set screen to black
  for(i=0;i<SIZE;i++){
    IO_HeartBeat();
    ST7735_SetCursor(0,i);
    LCD_OutDec(TestData[i]);
    ST7735_SetCursor(11,i);
    LCD_OutFix(TestData[i]);
    IO_Touch(); // remove this line to see all test cases
  }
	
	//EXTRA CREDIT
	ST7735_FillScreen(0);       // set screen to black
  while(1){
		ST7735_DrawBitmap(55,80,ExtraCredit,18,18); //(start_x, start_y, array, width, height)
  }
}

